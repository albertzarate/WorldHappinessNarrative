<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Image Slider | Autoplay With Navigation Visibility</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/react@16.9.0/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@16.9.0/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/d3@5.11.0/dist/d3.min.js"></script>
    <script src="https://unpkg.com/topojson@3.0.2/dist/topojson.min.js"></script>
    <script src="https://rawgit.com/susielu/d3-annotation/master/d3-annotation.min.js"></script>

  </head>
  <body>

    <div class="img-slider">
      <div class="slide active">
        <img src="1.png" alt="">
        <div class="info">
          <h2>World Map of Happiness</h2>
          <div id="root"></div>
          <script src="bundle.js"></script>
          <script>
            const annotations = [
              {
                note: {
                  label: "Northern Europe has the happiest people!",
                  title: "Happiest Countries"
                },
                x: 500,
                y: 190,
                dy: -50,
                dx: 200
              }].map(function(d){ d.color = "#E8336D"; return d})
      
              const makeAnnotations = d3.annotation()
                .type(d3.annotationLabel)
                .annotations(annotations)
      
              d3.select("svg")
                .append("g")
                .attr("class", "annotation-group")
                .call(makeAnnotations)
          </script>
        </div>
      </div>
      <div class="slide">
        <img src="2.png" alt="">
        <div class="info">
          <h2>Happiest Countries</h2>
          <div id="root2"></div>
          <script src="bundle.js"></script>
          <script>
            const annotations = [
              {
                note: {
                  label: "Happier countries tend to have higher GDP per Capita, more social support, higher life expectancy, and more Freedom!",
                  title: "Factors"
                },
                x: 500,
                y: 190,
                dy: -50,
                dx: 200
              }].map(function(d){ d.color = "#E8336D"; return d})
      
              const makeAnnotations = d3.annotation()
                .type(d3.annotationLabel)
                .annotations(annotations)
      
              d3.select("svg")
                .append("g")
                .attr("class", "annotation-group")
                .call(makeAnnotations)
          </script>
        </div>
      </div>
      <div class="slide">
        <img src="3.png" alt="">
        <div class="info">
          <h2>Least Happiest Countries</h2>
          <div id="root3"></div>
          <script src="bundle.js"></script>
          <script>
            const annotations = [
              {
                note: {
                  label: "Sadder countries tend to have lower GDP per Capita, less social support, less life expectancy, more corruption, and more dystopian traits!",
                  title: "Factors"
                },
                x: 500,
                y: 190,
                dy: -50,
                dx: 200
              }].map(function(d){ d.color = "#E8336D"; return d})
      
              const makeAnnotations = d3.annotation()
                .type(d3.annotationLabel)
                .annotations(annotations)
      
              d3.select("svg")
                .append("g")
                .attr("class", "annotation-group")
                .call(makeAnnotations)
          </script>
        </div>
      </div>
      <div class="navigation">
        <div class="btn active"></div>
        <div class="btn"></div>
        <div class="btn"></div>
      </div>
    </div>

    <script type="text/javascript">
    var slides = document.querySelectorAll('.slide');
    var btns = document.querySelectorAll('.btn');
    let currentSlide = 1;

    // Javascript for image slider manual navigation
    var manualNav = function(manual){
      slides.forEach((slide) => {
        slide.classList.remove('active');

        btns.forEach((btn) => {
          btn.classList.remove('active');
        });
      });

      slides[manual].classList.add('active');
      btns[manual].classList.add('active');
    }

    btns.forEach((btn, i) => {
      btn.addEventListener("click", () => {
        manualNav(i);
        currentSlide = i;
      });
    });
    </script>

  </body>
</html>